/**
 * Shapes Extension for JSS
 *
 * Website: https://jspreasheet.com
 * Description: Create amazing web based spreadsheets.
 */

if (!lemonade && typeof(require) === 'function') {
    var lemonade = require('lemonadejs');
}

if (!studio && typeof(require) === 'function') {
    var studio = require('@lemonadejs/studio');
}

function a0_0x3236(){const a=' Q ,div,84pkJJLD,key,querySelector,40%,getSelection,18%,addRange,tools,length,exports,-webkit-fill-available,17538duiavs,createElement,width,M 0 0 L ,entries, 0 L ,text, A 1 ,classList,cancel,70%, 0 Q ,The shapes extension is not included on the scope of this license, 0 ,setMedia,replace," :ref="self.modal" :closable="true" :draggable="true" :width="320" :height="380" :closed="true" icon="interests">\n            <div :loop="self.parent.shapes" class="shape-types jss_style_p20">\n                <button style="cursor: pointer" title="{{self.name}}" onclick="self.parent.parent.insert">\n                    <svg class="jss-shape" height=",call,type,12wOvqhq,find, Q 0 ,addEventListener,26%,add,style,interests,0 0 ,35whNISN,innerHTML,Save,svg,stroke-width,60%,contentEditable,onclose, L 0 0 z,undefined,append,bind,30px,altKey,70px,scrollLeft,25%,#cccccc, 0 0 1 ," width=",</button>\n                    <button type="button" class="jss_style_button" onclick="self.cancel" style="width: 48%">,shape-text,:scope > svg,toolbar,pointerEvents,blur,push,Cancel,Background Color,jss_object,status,<Modal title=",viewBox,open,</label>\n                            <input type="text" :bind="self.borderColor" :ref="self.inputBorderColor" class="jss_object" /> <Color :input="self.inputBorderColor" :bind="self.borderColor" />\n                        </div>\n                    </div>\n                    <div class="jss_style_col">\n                        <div class="jss_style_form_group" style="padding-right: 0">\n                            <label>,92%,</label>\n                            <input type="text" :bind="self.backgroundColor" :ref="self.inputBackgroundColor" class="jss_object" /> <Color :input="self.inputBackgroundColor" :bind="self.backgroundColor" />\n                        </div>\n                    </div>\n                </div>\n                <div class="jss_style_row">\n                    <div class="jss_style_col jss_style_f1">\n                        <div class="jss_style_form_group">\n                            <label>,15%,toString,textSettings,createElementNS,20%,#ff0000,current,">\n                        <path d="{{self.d}}" stroke-width="1" stroke="black" fill="none">\n                    </svg>\n                </button>\n            </div>\n        </Modal>,setAttribute,options,forEach,shape,object,items,backgroundColor,onchangemedia, 0 z,firstChild,30303yeJsuT,http://www.w3.org/2000/svg,refresh,edit,instance,stroke,<path style="pointer-events: visible;" />,Border Width,:scope > svg > path,50%,min,64%,focus,stopPropagation,activeElement,borderColor,onevent,23%,map,auto,4gMFgtO,setPlugins,height,media,License required,createRange, Q 0 0 ,Shape Settings,mustSave,7pkpprP,shapes,756477aDeuQg,draw,init,564952uQQUSd,<div>,error,collapse,scrollWidth,dictionary,random,borderWidthOptions,trim,removeAllRanges,745927vjdDPT,69253eCDBGF,<div>\n            <div class="jss_style_p20">\n                <div class="jss_style_row">\n                    <div class="jss_style_col jss_style_f1">\n                        <div class="jss_style_form_group" style="padding-right: 0">\n                            <label>,borderWidth,amd,10%,appendChild,shadowRoot,80%,childNodes,textContent,isEditable,onchange,68299HoTKVi,fill, 0 A 1 ,:scope > .shape-text,48%,onload,oninit,jtoolbar-disabled,save,insert,dblclick, L ,modal,100%,close, L 0 ,20RvPbjf'.split(",");
a0_0x3236=function(){return a};return a0_0x3236()}function a0_0x9f03(a,m){const h=a0_0x3236();return a0_0x9f03=function(n,v){return h[n-464]},a0_0x9f03(a,m)}
(function(a,m){const h=a0_0x9f03;for(a=a();;)try{if(-parseInt(h(597))*(parseInt(h(572))/2)+-parseInt(h(552))/3*(parseInt(h(488))/4)+-parseInt(h(497))/5*(parseInt(h(469))/6)+-parseInt(h(581))/7*(-parseInt(h(586))/8)+-parseInt(h(583))/9*(-parseInt(h(625))/10)+parseInt(h(609))/11*(parseInt(h(628))/12)+parseInt(h(596))/13===m)break;else a.push(a.shift())}catch(n){a.push(a.shift())}})(a0_0x3236,150297);
(function(a,m){const h=a0_0x9f03;typeof exports===h(546)&&typeof module!==h(506)?module[h(467)]=m():"function"===typeof define&&define[h(600)]?define(m):a[h(582)]=m()})(this,function(){const a=a0_0x9f03;let m=null;const h=function(b,c){const d=a0_0x9f03;document[d(591)]&&(b=document[d(591)][b]||b);if(c&&c[d(466)])for(let e=0;e<c[d(466)];e++)b=b[d(484)]("{"+e+"}",c[e]);return b},n=function(){const b=a0_0x9f03;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[b(484)](/[xy]/g,function(c){var d=16*Math[b(592)]()|
0;return("x"==c?d:d&3|8)[b(535)](16)})},v=function(){const b=a0_0x9f03;var c="";return 8==this[b(527)]?(!this.scope||-1==this.scope.indexOf(b(582)))&&(c=b(481)):c=b(576),c},p={rectangle:{draw:function(b,c){const d=a0_0x9f03;return d(472)+b+" 0 L "+b+" "+c+d(624)+c+d(505)},textSettings:{top:0,left:0,height:a(622),width:"100%"}},"rounded-rectangle":{draw:function(b,c){const d=a0_0x9f03;let e=40;const f=Math[d(562)](b,c);return e>.3*f&&(e=.3*f),"M "+e+d(474)+(b-e)+d(480)+b+d(482)+b+" "+e+d(620)+b+" "+
(c-e)+d(626)+b+" "+c+" "+(b-e)+" "+c+d(620)+e+" "+c+d(490)+c+d(482)+(c-e)+d(624)+e+d(578)+e+d(550)},textSettings:{top:"4%",left:"4%",height:a(532),width:a(532)}},triangle:{draw:function(b,c){const d=a0_0x9f03,e=b/2;return"M "+e+d(474)+b+" "+c+d(624)+c+d(620)+e+d(550)},textSettings:{top:a(561),left:a(513),height:a(561),width:a(561)}},"right-triangle":{draw:function(b,c){const d=a0_0x9f03;return"M 0 0 L "+b+" "+c+d(624)+c+d(505)},textSettings:{top:a(561),left:0,height:"50%",width:a(561)}},ellipse:{draw:function(b,
c){const d=a0_0x9f03,e=b/2;b=c/b;return"M "+e+d(611)+b+d(515)+e+","+c+d(476)+b+" 0 0 1 "+e+",0 z"},textSettings:{top:a(534),left:a(534),height:"70%",width:a(479)}},diamond:{draw:function(b,c){const d=a0_0x9f03,e=b/2,f=c/2;return"M "+e+d(474)+b+" "+f+d(620)+e+" "+c+d(624)+f+" L "+e+d(550)},textSettings:{top:a(492),left:a(492),height:a(613),width:a(613)}},trapezium:{draw:function(b,c){const d=a0_0x9f03;let e=60;return e>b/6&&(e=b/6),"M "+e+d(474)+(b-e)+d(474)+b+" "+c+" L 0 "+c+d(620)+e+d(550)},textSettings:{top:0,
left:a(633),height:a(622),width:a(563)}},pentagon:{draw:function(b,c){const d=a0_0x9f03,e=b/2,f=.35*c,g=.15*b;return"M "+e+d(474)+b+" "+f+d(620)+(b-g)+" "+c+d(620)+g+" "+c+d(624)+f+d(620)+e+d(550)},textSettings:{top:a(569),left:a(633),height:"77%",width:a(563)}},parallelogram:{draw:function(b,c){const d=a0_0x9f03;let e=30;const f=Math[d(562)](b,c);return e>.3*f&&(e=.3*f),"M "+e+d(474)+b+d(474)+(b-e)+" "+c+" L 0 "+c+d(620)+e+d(550)},textSettings:{top:0,left:0,height:a(622),width:a(468),marginLeft:a(509),
marginRight:"30px"}},hexagon:{draw:function(b,c){const d=a0_0x9f03;let e=70;e>c/6&&(e=c/6);const f=c/2;return"M "+e+d(474)+(b-e)+d(474)+b+" "+f+d(620)+(b-e)+" "+c+d(620)+e+" "+c+d(624)+f+d(620)+e+d(550)},textSettings:{top:0,left:0,height:a(622),width:"-webkit-fill-available",marginLeft:a(511),marginRight:"70px"}},heptagon:{draw:function(b,c){const d=a0_0x9f03,e=b/2,f=.1*b,g=.2*c,l=.25*b,k=.35*c;return"M "+e+d(474)+(b-f)+" "+g+" L "+b+" "+(c-k)+" L "+(b-l)+" "+c+" L "+l+" "+c+d(624)+(c-k)+" L "+f+
" "+g+d(620)+e+" 0 z"},textSettings:{top:"20%",left:"25%",height:"80%",width:a(561)}},octagon:{draw:function(b,c){const d=a0_0x9f03;let e=.3*b;return e>.3*c&&(e=.3*c),"M "+e+d(474)+(b-e)+d(474)+b+" "+e+d(620)+b+" "+(c-e)+d(620)+(b-e)+" "+c+" L "+e+" "+c+d(624)+(c-e)+d(624)+e+" L "+e+d(550)},textSettings:{top:0,left:"30%",height:a(622),width:a(631)}},decagon:{draw:function(b,c){const d=a0_0x9f03,e=c/2,f=.1*b,g=.33*b,l=.2*c;return"M "+g+d(474)+(b-g)+d(474)+(b-f)+" "+l+d(620)+b+" "+e+" L "+(b-f)+" "+
(c-l)+d(620)+(b-g)+" "+c+d(620)+g+" "+c+d(620)+f+" "+(c-l)+d(624)+e+" L "+f+" "+l+d(620)+g+" 0 z"},textSettings:{top:a(538),left:a(601),height:a(502),width:a(604)}}},w=a(514),x=a(539),q=function(b,{borderWidth:c=1,borderColor:d=x}){b=b.querySelector(a(560));b[a(542)](a(501),c);b[a(542)](a(557),d)},r=function(b,c=w){b[a(630)](a(560))[a(542)](a(610),c)},B=function(b,c){b[a(630)](a(612))[a(606)]=c},y=function(b,c){c=c[a(543)][a(575)][a(489)](function(g){return g.id===b.id});var d=b.style;const e=parseInt(d.width);
d=parseInt(d[a(574)]);var f=b[a(630)](a(519));f.setAttribute(a(529),a(496)+e+" "+d);f=f[a(630)](":scope > path");c=p[c[a(543)][a(487)]][a(584)](e,d);f.setAttribute("d",c)},z=function(b){for(var c=a0_0x9f03,d=document.activeElement;d&&d[c(603)]&&d[c(603)][c(566)];)d=d.shadowRoot[c(566)];if(d!==b&&(b[a(494)].pointerEvents=a(571),b.contentEditable=!0,b.innerHTML=a(587)+b[a(498)]+"</div>",b[a(551)][a(564)](),b=b[a(551)],c=a0_0x9f03,b.innerText.length)){d=document[c(577)]();let e=window[c(632)](),f=b[c(605)][b[c(605)].length-
1];d.setStart(f,f[c(466)]);d[c(589)](!0);e[c(595)]();e[c(464)](d);b[c(512)]=b[c(590)]}},C=function(b,c,d){var e=document[a(537)](a(553),a(500));e[a(477)][a(493)]("jss-shape");const f=e[a(494)];f[a(574)]=a(622);f[a(471)]=a(622);e[a(498)]=a(558);d[a(602)](e);y(d,b);const g=document[a(470)](a(627));g[a(477)][a(493)](a(526),a(518));const l=g.style;e=p[c[a(543)][a(487)]][a(536)];Object.entries(e)[a(544)](function([k,t]){l[k]=t});d.appendChild(g);d.addEventListener("keydown",function(k){1!==k[a(629)][a(466)]&&
"Process"!==k[a(629)]||k[a(510)]||k.ctrlKey||z(g)});d[a(491)](a(619),function(){z(g)});g.addEventListener(a(522),function(){let k=g.innerHTML;var t=(k=k[a(484)](/<br\s*\/?>/gi,"\r\n"),k=k[a(484)](/<\/(p|div|h[1-6]|li)>\s*/gi,"\n"),g[a(494)][a(521)]="",g[a(503)]=!1,k[a(484)](/<[^>]+>/g,""));b.setMedia([{id:d.id,options:Object.assign({},c[a(543)],{text:t[a(594)]()})}])})},A=function(b,c){let d=c.el;if(typeof c.el[a(555)]===a(506)){d[a(494)][a(548)]="unset";d[a(494)].pointerEvents="none";const e=d[a(554)];
d.refresh=function(f,g){y(f,b);e(g)}[a(508)](b,d);d.edit=function(f){b[a(607)]()&&(b.parent.plugins.shapes[a(555)].open(b,c),f&&(f.preventDefault(),f[a(565)]()))};C(b,c,d)}q(d,{borderColor:c[a(543)][a(567)],borderWidth:c[a(543)][a(599)]});r(d,c[a(543)].backgroundColor);B(d,c[a(543)].text)},D=function(){let b=this;return b[a(556)]=null,b[a(618)]=function(c,d){c={id:n(),type:a(545),width:400,height:300,options:{type:d.id}};b[a(556)][a(483)](c);b.modal.close()},b[a(582)]=Object[a(473)](p)[a(570)](function([c,
d]){return{name:c[a(484)](/-/g," "),id:c,d:d[a(584)](24,24)}}),a(528)+h("Insert Shape")+a(485)+24+a(516)+24+a(541)},E=function(){let b=this;return b[a(593)]=[{text:0,value:0},{text:1,value:1},{text:3,value:3},{text:4,value:4},{text:5,value:5},{text:6,value:6},{text:7,value:7},{text:8,value:8}],b[a(530)]=function(c,d){var e=d.options;!e[a(548)]&&(e[a(548)]=w);!e[a(567)]&&(e[a(567)]=x);!e[a(599)]&&(e[a(599)]=1);b.worksheet=c;b[a(575)]=d;b.backgroundColor=d.options.backgroundColor;b[a(567)]=d.options[a(567)];
b[a(599)]=d[a(543)].borderWidth;b.mustSave=null;b[a(621)][a(530)]()},b[a(617)]=function(){b[a(580)]=!0;b.modal[a(623)]()},b[a(478)]=function(){b.mustSave=!1;b[a(621)][a(623)]()},b[a(504)]=function(){if(b[a(580)])b.worksheet[a(483)]([{id:b.media.id,options:{type:b[a(575)].options[a(487)],backgroundColor:b[a(548)],borderColor:b[a(567)],borderWidth:b[a(599)],text:b.media.options[a(475)]||""}}]);else{const c=b[a(575)][a(543)];q(b.media.el,{borderColor:c[a(567)],borderWidth:c[a(599)]});r(b[a(575)].el,
c.backgroundColor)}},b[a(608)]=function(c){b.media&&("backgroundColor"===c?r(b[a(575)].el,b[a(548)]):c!==a(567)&&c!==a(599)||q(b[a(575)].el,{borderColor:b[a(567)],borderWidth:b[a(599)]}))},b[a(614)]=function(){b.modal=studio.Modal(b.el,{title:h(a(579)),closed:!0,width:380,height:280,icon:a(495),backdrop:!1,draggable:!0,closable:!0,onclose:b[a(504)]})},a(598)+h(a(525))+a(533)+h("Border Color")+a(531)+h(a(559))+'</label>\n                            <Dropdown :data="self.borderWidthOptions" :bind="self.borderWidth" :width="120" />\n                        </div>\n                    </div>\n                </div>\n                <br>\n                <div class=\'jss_style_row\'>\n                    <button type="button" class="jss_style_button" onclick="self.save" style="width: 48%">'+
h(a(499))+a(517)+h(a(524))+"</button>\n                </div>\n            </div>\n        </div>"},F=function(b){let c={};c[a(585)]=function(e){const f=e[a(543)].media;f&&f[a(544)](function(g){g[a(487)]===a(545)&&A(e,g)})};c[a(568)]=function(e,f,g,l,k){if(e===a(549))for(e=0;e<g.length;e++)k[e][a(487)]===a(545)&&A(f,k[e])};c[a(530)]=function(e){c[a(618)][a(556)]=e;c[a(618)][a(621)][a(530)]()};c[a(520)]=function(e){return e[a(547)][a(523)]({content:a(495),type:"i",tooltip:h("Insert shape"),onclick:function(){c[a(530)](m[a(540)])},
updateState:function(f,g,l,k){k[a(607)]()?l[a(477)].remove(a(616)):l[a(477)][a(493)](a(616))}}),e};let d=document[a(470)](a(627));return b[a(465)][a(507)](d),lemonade.render(function(){return lemonade.element('<div>\n                <div><InsertShape :ref="self.insert" /></div>\n                <div><EditShape :ref="self.edit" /></div>\n            </div>',c,{InsertShape:D,EditShape:E})},d),c},u=function(){return!0};return u[a(615)]=function(b,c){(c=v[a(486)](b))?console[a(588)](c):b[a(573)]({shapes:F})},
u.license=function(b){null===m&&(m=this)},u});
